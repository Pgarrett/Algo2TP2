\section{Modulo Mapa}

%TODO descripcion

\begin{Interfaz}

  \textbf{usa}: \tadNombre{Nat, Bool, Coordenada, Conj($\alpha$)}.

  \textbf{se explica con}: \tadNombre{Mapa}.

  \textbf{generos}: \TipoVariable{map}.

  \InterfazFuncion{CrearMapa}{}{Mapa}%
  [true]
  {$res \igobs crearMapa()$}
  [$O(1)$]
  [Crea un nuevo mapa]

  \InterfazFuncion{AgregarCoordenada}{\Inout{m}{map}, \In{c}{coor}}{itConj(coor)}
  [$m \igobs m_0$]
  {$m \igobs agregarCoor(c, m_0)$}
  [$\Theta\left(\displaystyle\sum_{c' \in coordendas(m)}equal(c,c')\right)$]
  [Agrega una coordenada al mapa y devuelve el iterador a la coordenada agregada. Su complejidad es la de agregar un elemento al conjunto lineal.]

  \InterfazFuncion{Coordenadas}{\In{m}{map}}{itConj(coor)}
  [true]
  {$res \igobs coordenadas(m)$}
  [$O(1)$]
  [Devuelve un iterador al conjunto de coordenadas del mapa]
  
  \InterfazFuncion{PosExistente}{\In{c}{coor}, \In{m}{map}}{Bool}
  [true]
  {$res \igobs posExistente(c, m)$}
  [$O(1)$]
  [Devuelve verdadero si la coordenada esta en el conjunto de coordenadas del mapa]
  
  \InterfazFuncion{HayCamino}{\In{c1}{coor}, \In{c2}{coor}, \In{m}{map}}{Bool}
  [$c1 \in coordenadas(m) \land c2 \in coordenadas(m)$]
  {$res \igobs hayCamino(c1, c2, m)$}
  [$O(???)$]
  [Devuelve verdadero si existe un camino entre ambas coordenadas]
    
\end{Interfaz}

\begin{Representacion}
\subsubsection{Representaci贸n de Mapa}
	\begin{Estructura}{Mapa}[estr]
		\begin{Tupla}[estr]
			\tupItem{coordenadas}{ConjLineal}%
			\tupItem{ancho}{Nat}
		\end{Tupla}
	\end{Estructura}
	
\subsubsection{Invariante de Representaci贸n}
	\begin{enumerate}
		\item El ancho del mapa es igual al maximo del primer elemento de las coordenadas
	\end{enumerate}
	\Rep[estr][e]{(e.ancho = Max($\Pi_1$(coordenadas)))}

\subsubsection{Funci\'on de Abstracci\'on}
	\AbsFc[estr]{mapa}[e]{($\forall m : Mapa$) e.coordenadas = coordenadas(m)}

\end{Representacion}

\begin{Algoritmos}

\medskip
	
 \Titulo{Algoritmos del modulo}
  	\medskip
  
\begin{algorithm}[H]{\textbf{iCrearMapa}() $\to$ $res$ : Mapa}
    	\begin{algorithmic}[1]
			\State $res.coordenadas \gets Vacio()$ \Comment{La complejidad es la de crear el Conjunto Lineal vacio $\Theta(1)$}
			
			\medskip
			\Statex \underline{Complejidad:} $\Theta(1)$
    	\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]{\textbf{iAgregarCoordenada}(\Inout {m}{map}, \In {c}{coor}) $\to$ $res$ : itConj(coor)}
    	\begin{algorithmic}[1]
			\State $res \gets Agregar(m.coordenadas, c)$ \Comment $\Theta\left(\displaystyle\sum_{c' \in coordendas(m)}equal(c,c')\right)$
			
			\medskip
			\Statex \underline{Complejidad:} $\Theta\left(\displaystyle\sum_{c' \in coordendas(m)}equal(c,c')\right)$
			\Statex \underline{Justificaci贸n:} La complejidad es la de agregar un elemento al conjunto lineal.
    	\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]{\textbf{iCoordenadas}(\In {m}{map}) $\to$ $res$ : itConj(coor)}
    	\begin{algorithmic}[1]
			\State $res \gets CrearIt(m.coordenadas)$ \Comment {La complejidad es la de crear un iterador a un conjunto lineal $\Theta(1)$}
			
			\medskip
			\Statex \underline{Complejidad:} $\Theta(1)$
    	\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]{\textbf{iPosExistente}(\In{c}{coor}, \In{m}{map}) $\to$ $res$ : Bool}
    	\begin{algorithmic}[1]
			\State $res \gets pertenece?(m.coordenadas, c)$ \Comment  $\Theta\left(\displaystyle\sum_{c' \in coordendas(m)}equal(c,c')\right)$
			
			\medskip
			\Statex \underline{Complejidad:} $\Theta\left(\displaystyle\sum_{c' \in coordendas(m)}equal(c,c')\right)$
			\Statex \underline{Justificaci贸n:} La complejidad es la fijarse que un elemento pertenezca al conjunto lineal.
    	\end{algorithmic}
\end{algorithm}

\end{Algoritmos}